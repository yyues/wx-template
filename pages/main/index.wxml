<view class="page">
  <van-search disabled placeholder="搜索你创建的任务" bindtap="onSearch" />
  <!-- 操作栏  数组遍历吧 -->
  <view class="action" wx:if="{{false}}">
    <block wx:for="{{actions}}" wx:key="index">
      <van-transition custom-class="item" data-key="{{item.key}}" bindtap="onAction">
        <image src="{{item.icon}}" />
        <text>{{item.content}}</text>
      </van-transition>
    </block>
  </view>
  <!-- 今日待办 -->
  <view class="today">
    <view class="title">
      <view bindtap="OnShowDay">
        <text class="content">{{currentDay}}</text>
        <text class="week"> · {{currentWeek}}</text>
      </view>
      <van-transition custom-class="show" name="slide-left" show="{{showDays}}" duration="{{900}}">
        <van-tag size="small" wx:if="{{showDays}}" data-key="today" bindtap="onSelectToday" color="#5b67ca">回到今日</van-tag>
      </van-transition>
    </view>
    <van-transition custom-class="days-wrapper" name="fade" show="{{showDays}}" duration="{{900}}">
      <view class="days">
        <view class="day {{ item.data == currentDate ? 'checked': '' }}" wx:for="{{weekList}}" wx:key="index" hover-class="high-day" data-key="{{item.data}}" catchtap="onSelectToday">
          <text class="w">{{item.week}}</text>
          <text class="d">{{item.day}}</text>
        </view>
      </view>
    </van-transition>
  </view>
  <view class="add" bindtap="handleAdd">
    <image src="../../images/tabbar/add.png" mode="" />
  </view>
  <van-transition custom-class="detail-wrapper" name="fade" duration="{{900}}">
    <!-- 如果说没有登录 -->
    <view class="no-login" wx:if="{{!hasLogin}}">
      <!-- image="{{emptyUrl}}" custom-class="empty" -->
      <van-empty description="还没有登录哦,快去登录吧(＾－＾)V" />
    </view>
    <view class="detail" wx:else>
      <view class="empty" wx:if="{{list.length === 0}}">

      </view>
      <view class="content" wx:else>
        <today-card wx:for="{{list}}" wx:key="id" data="{{item}}" loading="{{arr[index]}}" index="{{index}}" bindselect="onFinish" binddetail="onDetail" hasSelect />
      </view>
    </view>
  </van-transition>
  <van-toast id="van-toast" />
</view>